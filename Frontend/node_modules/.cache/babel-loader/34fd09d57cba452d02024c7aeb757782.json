{"ast":null,"code":"var _jsxFileName = \"E:\\\\CDAC PRACTICE\\\\Bus-test-main\\\\Frontend\\\\src\\\\UserPages\\\\TravellingDetails\\\\TravellingDetails.js\",\n  _s = $RefreshSig$();\nimport './TravellingDetails.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport UserNavbar from './../UserNavbar/UserNavbar';\nimport { url } from './../../common/Constants';\nimport UserLogIn from './../UserLogIn/UserLogIn';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TravellingDetails = () => {\n  _s();\n  const trip = JSON.parse(sessionStorage.getItem(\"bus\"));\n  const [pickingPoint, setPickingPoint] = useState(\"\");\n  const [droppingPoint, setDroppingPoint] = useState(\"\");\n  const [pickingPoints, setPickingPoints] = useState([]);\n  const [droppingPoints, setDroppingPoints] = useState([]);\n  const history = useHistory();\n  const ProceedToPay = () => {\n    sessionStorage.setItem(\"pickingPoint\", pickingPoint);\n    sessionStorage.setItem(\"droppingPoint\", droppingPoint);\n    history.push('/payment');\n  };\n  useEffect(() => {\n    getPickingPoint();\n  }, []);\n  useEffect(() => {\n    getDroppingPoint();\n  }, []);\n  const getPickingPoint = () => {\n    const data = new FormData();\n    data.append(\"fromStation\", trip.fromStation);\n    data.append(\"toStation\", trip.toStation);\n    axios.post(url + '/route/pickingpoints', data).then(response => {\n      const result = response.data;\n      if (result.status === 'success') {\n        console.log(result.data);\n        // alert('Successfull!')\n        setPickingPoints(result.data);\n        // console.log(pickingPoints)\n        // history.push('/seatselection')\n      } else {\n        console.log(result.error);\n        alert('Failed!...Please try again!');\n      }\n    });\n  };\n  const getDroppingPoint = () => {\n    const data = new FormData();\n    data.append(\"fromStation\", trip.fromStation);\n    data.append(\"toStation\", trip.toStation);\n    axios.post(url + '/route/droppingpoints', data).then(response => {\n      const result = response.data;\n      if (result.status === 'success') {\n        console.log(result.data);\n        // alert('Successfull!')\n        setDroppingPoints(result.data);\n        // console.log(pickingPoints)\n        // history.push('/seatselection')\n      } else {\n        console.log(result.error);\n        alert('Failed!...Please try again!');\n      }\n    });\n  };\n  if (sessionStorage.getItem(\"id\") !== null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(UserNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"drop1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group-text bg-dark text-white\",\n                children: \"Picking Point\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                list: \"picking\",\n                onChange: event => {\n                  setPickingPoint(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n                id: \"picking\",\n                children: pickingPoints.map(Start_point => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: Start_point\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"drop2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text bg-dark text-white\",\n                children: \"Dropping Point\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                list: \"dropping\",\n                onChange: event => {\n                  setDroppingPoint(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n                id: \"dropping\",\n                children: droppingPoints.map(End_point => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: End_point\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary button\",\n                onClick: ProceedToPay,\n                children: \"Proceed To Pay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(UserLogIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }, this);\n  }\n};\n_s(TravellingDetails, \"cNy6oc4oBzCk+yT7FMB7dI6UMfU=\", false, function () {\n  return [useHistory];\n});\n_c = TravellingDetails;\nexport default TravellingDetails;\nvar _c;\n$RefreshReg$(_c, \"TravellingDetails\");","map":{"version":3,"names":["useState","useEffect","axios","useHistory","UserNavbar","url","UserLogIn","jsxDEV","_jsxDEV","TravellingDetails","_s","trip","JSON","parse","sessionStorage","getItem","pickingPoint","setPickingPoint","droppingPoint","setDroppingPoint","pickingPoints","setPickingPoints","droppingPoints","setDroppingPoints","history","ProceedToPay","setItem","push","getPickingPoint","getDroppingPoint","data","FormData","append","fromStation","toStation","post","then","response","result","status","console","log","error","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","list","onChange","event","target","value","id","map","Start_point","End_point","type","onClick","_c","$RefreshReg$"],"sources":["E:/CDAC PRACTICE/Bus-test-main/Frontend/src/UserPages/TravellingDetails/TravellingDetails.js"],"sourcesContent":["import './TravellingDetails.css'\nimport {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { useHistory } from 'react-router'\nimport UserNavbar from './../UserNavbar/UserNavbar';\nimport { url } from './../../common/Constants';\nimport UserLogIn from './../UserLogIn/UserLogIn';\n\n\nconst TravellingDetails = () => {\n    const trip = JSON.parse(sessionStorage.getItem(\"bus\"))\n    \n    const [pickingPoint,setPickingPoint] = useState(\"\")\n    const [droppingPoint,setDroppingPoint] = useState(\"\")\n    const [pickingPoints,setPickingPoints] = useState([])\n    const [droppingPoints,setDroppingPoints] = useState([])\n    const history = useHistory()\n    \n    const ProceedToPay = () => {\n        sessionStorage.setItem(\"pickingPoint\", pickingPoint)\n        sessionStorage.setItem(\"droppingPoint\", droppingPoint)\n        history.push('/payment')\n    }\n\n    useEffect(() => {\n      getPickingPoint()\n    },[])\n\n    useEffect(() => {\n      getDroppingPoint()\n    },[])\n    \n    const getPickingPoint = () => {\n      const data = new FormData()\n      data.append(\"fromStation\",trip.fromStation)\n      data.append(\"toStation\",trip.toStation)\n\n      axios.post(url + '/route/pickingpoints',data).then((response) => {\n          const result = response.data\n          if(result.status ==='success'){\n              console.log(result.data)\n              // alert('Successfull!')\n              setPickingPoints(result.data)\n              // console.log(pickingPoints)\n              // history.push('/seatselection')\n          }else{\n              console.log(result.error)\n              alert('Failed!...Please try again!')\n          }\n      })\n    }\n\n      const getDroppingPoint = () => {\n        const data = new FormData()\n        data.append(\"fromStation\",trip.fromStation)\n        data.append(\"toStation\",trip.toStation)\n  \n        axios.post(url + '/route/droppingpoints',data).then((response) => {\n            const result = response.data\n            if(result.status ==='success'){\n                console.log(result.data)\n                // alert('Successfull!')\n                setDroppingPoints(result.data)\n                // console.log(pickingPoints)\n                // history.push('/seatselection')\n            }else{\n                console.log(result.error)\n                alert('Failed!...Please try again!')\n            }\n        })\n  }\n  if(sessionStorage.getItem(\"id\")!==null){\n    return (\n        <div>\n          <UserNavbar/>\n          <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-3\"></div>\n                <div className=\"col-md-6\">\n                    <div className=\"drop1\">\n                        <div className=\"input-group-text bg-dark text-white\">Picking Point</div>\n                        <input className=\"form-control\" list=\"picking\" onChange={(event) => {setPickingPoint(event.target.value)}}/>\n                        <datalist id=\"picking\">\n                        {pickingPoints.map((Start_point)=>{\n                            return(\n                            <option value={Start_point}/>\n                            )\n                        })}\n                        </datalist>\n                    </div>\n                    <div className=\"drop2\">\n                        <span className=\"input-group-text bg-dark text-white\">Dropping Point</span>\n                        <input className=\"form-control\" list=\"dropping\" onChange={(event) => {setDroppingPoint(event.target.value)}}/>\n                        <datalist id=\"dropping\">\n                        {droppingPoints.map((End_point)=>{\n                            return(\n                            <option value={End_point}/>\n                            )\n                        })}\n                        </datalist>\n\n                    </div>\n                    <div className=\"\">\n                        <button type=\"submit\" className=\"btn btn-primary button\" onClick={ProceedToPay}>Proceed To Pay</button>\n                    </div>\n                </div>\n                <div className=\"col-md-3\"></div>\n            </div>    \n        </div>\n        </div>\n    )}else{return(<UserLogIn/>)}\n   }\nexport default TravellingDetails"],"mappings":";;AAAA,OAAO,yBAAyB;AAChC,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,UAAU,MAAM,4BAA4B;AACnD,SAASC,GAAG,QAAQ,0BAA0B;AAC9C,OAAOC,SAAS,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGjD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC;EAEtD,MAAM,CAACC,YAAY,EAACC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACnD,MAAM,CAACkB,aAAa,EAACC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACrD,MAAM,CAACoB,aAAa,EAACC,gBAAgB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACrD,MAAM,CAACsB,cAAc,EAACC,iBAAiB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACvD,MAAMwB,OAAO,GAAGrB,UAAU,CAAC,CAAC;EAE5B,MAAMsB,YAAY,GAAGA,CAAA,KAAM;IACvBX,cAAc,CAACY,OAAO,CAAC,cAAc,EAAEV,YAAY,CAAC;IACpDF,cAAc,CAACY,OAAO,CAAC,eAAe,EAAER,aAAa,CAAC;IACtDM,OAAO,CAACG,IAAI,CAAC,UAAU,CAAC;EAC5B,CAAC;EAED1B,SAAS,CAAC,MAAM;IACd2B,eAAe,CAAC,CAAC;EACnB,CAAC,EAAC,EAAE,CAAC;EAEL3B,SAAS,CAAC,MAAM;IACd4B,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMD,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAME,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC3BD,IAAI,CAACE,MAAM,CAAC,aAAa,EAACrB,IAAI,CAACsB,WAAW,CAAC;IAC3CH,IAAI,CAACE,MAAM,CAAC,WAAW,EAACrB,IAAI,CAACuB,SAAS,CAAC;IAEvChC,KAAK,CAACiC,IAAI,CAAC9B,GAAG,GAAG,sBAAsB,EAACyB,IAAI,CAAC,CAACM,IAAI,CAAEC,QAAQ,IAAK;MAC7D,MAAMC,MAAM,GAAGD,QAAQ,CAACP,IAAI;MAC5B,IAAGQ,MAAM,CAACC,MAAM,KAAI,SAAS,EAAC;QAC1BC,OAAO,CAACC,GAAG,CAACH,MAAM,CAACR,IAAI,CAAC;QACxB;QACAT,gBAAgB,CAACiB,MAAM,CAACR,IAAI,CAAC;QAC7B;QACA;MACJ,CAAC,MAAI;QACDU,OAAO,CAACC,GAAG,CAACH,MAAM,CAACI,KAAK,CAAC;QACzBC,KAAK,CAAC,6BAA6B,CAAC;MACxC;IACJ,CAAC,CAAC;EACJ,CAAC;EAEC,MAAMd,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC3BD,IAAI,CAACE,MAAM,CAAC,aAAa,EAACrB,IAAI,CAACsB,WAAW,CAAC;IAC3CH,IAAI,CAACE,MAAM,CAAC,WAAW,EAACrB,IAAI,CAACuB,SAAS,CAAC;IAEvChC,KAAK,CAACiC,IAAI,CAAC9B,GAAG,GAAG,uBAAuB,EAACyB,IAAI,CAAC,CAACM,IAAI,CAAEC,QAAQ,IAAK;MAC9D,MAAMC,MAAM,GAAGD,QAAQ,CAACP,IAAI;MAC5B,IAAGQ,MAAM,CAACC,MAAM,KAAI,SAAS,EAAC;QAC1BC,OAAO,CAACC,GAAG,CAACH,MAAM,CAACR,IAAI,CAAC;QACxB;QACAP,iBAAiB,CAACe,MAAM,CAACR,IAAI,CAAC;QAC9B;QACA;MACJ,CAAC,MAAI;QACDU,OAAO,CAACC,GAAG,CAACH,MAAM,CAACI,KAAK,CAAC;QACzBC,KAAK,CAAC,6BAA6B,CAAC;MACxC;IACJ,CAAC,CAAC;EACR,CAAC;EACD,IAAG7B,cAAc,CAACC,OAAO,CAAC,IAAI,CAAC,KAAG,IAAI,EAAC;IACrC,oBACIP,OAAA;MAAAoC,QAAA,gBACEpC,OAAA,CAACJ,UAAU;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACbxC,OAAA;QAAKyC,SAAS,EAAC,WAAW;QAAAL,QAAA,eACxBpC,OAAA;UAAKyC,SAAS,EAAC,KAAK;UAAAL,QAAA,gBAChBpC,OAAA;YAAKyC,SAAS,EAAC;UAAU;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChCxC,OAAA;YAAKyC,SAAS,EAAC,UAAU;YAAAL,QAAA,gBACrBpC,OAAA;cAAKyC,SAAS,EAAC,OAAO;cAAAL,QAAA,gBAClBpC,OAAA;gBAAKyC,SAAS,EAAC,qCAAqC;gBAAAL,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxExC,OAAA;gBAAOyC,SAAS,EAAC,cAAc;gBAACC,IAAI,EAAC,SAAS;gBAACC,QAAQ,EAAGC,KAAK,IAAK;kBAACnC,eAAe,CAACmC,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;gBAAA;cAAE;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC,CAAC,eAC5GxC,OAAA;gBAAU+C,EAAE,EAAC,SAAS;gBAAAX,QAAA,EACrBxB,aAAa,CAACoC,GAAG,CAAEC,WAAW,IAAG;kBAC9B,oBACAjD,OAAA;oBAAQ8C,KAAK,EAAEG;kBAAY;oBAAAZ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAC,CAAC;gBAEjC,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC,eACNxC,OAAA;cAAKyC,SAAS,EAAC,OAAO;cAAAL,QAAA,gBAClBpC,OAAA;gBAAMyC,SAAS,EAAC,qCAAqC;gBAAAL,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC3ExC,OAAA;gBAAOyC,SAAS,EAAC,cAAc;gBAACC,IAAI,EAAC,UAAU;gBAACC,QAAQ,EAAGC,KAAK,IAAK;kBAACjC,gBAAgB,CAACiC,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;gBAAA;cAAE;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC,CAAC,eAC9GxC,OAAA;gBAAU+C,EAAE,EAAC,UAAU;gBAAAX,QAAA,EACtBtB,cAAc,CAACkC,GAAG,CAAEE,SAAS,IAAG;kBAC7B,oBACAlD,OAAA;oBAAQ8C,KAAK,EAAEI;kBAAU;oBAAAb,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAC,CAAC;gBAE/B,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CAAC,eACNxC,OAAA;cAAKyC,SAAS,EAAC,EAAE;cAAAL,QAAA,eACbpC,OAAA;gBAAQmD,IAAI,EAAC,QAAQ;gBAACV,SAAS,EAAC,wBAAwB;gBAACW,OAAO,EAAEnC,YAAa;gBAAAmB,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACNxC,OAAA;YAAKyC,SAAS,EAAC;UAAU;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EACT,CAAC,MAAI;IAAC,oBAAOxC,OAAA,CAACF,SAAS;MAAAuC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAC;AAC5B,CAAC;AAAAtC,EAAA,CAtGED,iBAAiB;EAAA,QAOHN,UAAU;AAAA;AAAA0D,EAAA,GAPxBpD,iBAAiB;AAuGvB,eAAeA,iBAAiB;AAAA,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}